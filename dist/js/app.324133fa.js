(function(t){function e(e){for(var a,o,i=e[0],l=e[1],c=e[2],m=0,d=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},r={app:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"47bc":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app",attrs:{id:"app"}},[s("TheHeader"),s("main",{staticClass:"main"},[s("transition",{attrs:{mode:"out-in"}},[s("router-view")],1)],1),s("TheFooter")],1)},n=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"main-header"},[a("div",{staticClass:"container"},[a("nav",{staticClass:"main-header__nav"},[a("router-link",{staticClass:"logo",attrs:{to:"/"}},[a("img",{staticClass:"main-header__logo",attrs:{src:s("e347"),alt:"Mesa Mobile"}})]),t.$store.state.login?a("router-link",{staticClass:"btn",attrs:{to:"/user"}},[t._v(" "+t._s(t.name)+" ")]):a("router-link",{staticClass:"btn",attrs:{to:"/login"}},[t._v(" Login ")])],1)])])},i=[],l={name:"TheHeader",computed:{name:function(){return this.$store.state.user.first_name}}},c=l,u=s("2877"),m=Object(u["a"])(c,o,i,!1,null,null,null),d=m.exports,p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"main-footer"},[s("div",{staticClass:"container"},[s("p",{staticClass:"main-footer__copy"},[t._v("Copyright © 2021 Douglas Rangel Desenvolvedor Web")])])])}],v={name:"TheFooter"},h=v,_=Object(u["a"])(h,p,f,!1,null,null,null),g=_.exports,b={components:{TheHeader:d,TheFooter:g}},C=b,w=Object(u["a"])(C,r,n,!1,null,null,null),y=w.exports,U=s("8c4f"),$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("LocationsList"),s("UsersList")],1)},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"places-home"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"places-home__title"},[t._v("Lugares")]),s("p",{staticClass:"places-home__description"},[t._v("Divulgue e conheça locais incriveis que fazem parte do nosso precioso mundo.")])])])}],E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.item?s("section",{staticClass:"modal_vx",on:{click:t.closeModal}},[s("div",{staticClass:"modal_container"},[s("div",{staticClass:"modal_box"},[s("button",{staticClass:"modal_close",on:{click:function(e){t.item=!1}}},[t._v("X")]),s("h2",[t._v(t._s(t.item.name))]),s("h3",[t._v(t._s(t.item.state))]),s("p",[t._v(t._s(t.item.description))]),s("div",{staticClass:"reviews"},[s("h5",[t._v("Reviews")]),t._l(t.item.reviews,(function(e){return s("div",{key:e.name,staticClass:"review"},[s("p",{staticClass:"review_name"},[t._v(" "+t._s(e.name)+" | "+t._s(e.star)+" estrelas ")]),s("p",{staticClass:"review_description"},[t._v(t._s(e.description))])])}))],2)])])]):t._e(),s("div",{staticClass:"container"},[s("form",{staticClass:"search-form"},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",name:"search",id:"search",placeholder:"Buscar local"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})])]),s("transition-group",{attrs:{mode:"out-in"}},[t.result&&t.result.length?s("div",{key:"locations",staticClass:"row"},t._l(t.result,(function(e){return s("div",{key:e.id,staticClass:"col-md-3",on:{click:function(s){return t.openModal(e.id)}}},[s("div",{staticClass:"location_box"},[s("img",{attrs:{src:e.image,alt:""}}),s("h2",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.state))])])])})),0):t.result&&0===t.result.length?s("div",{key:"notfound"},[s("p",{staticClass:"notfound"},[t._v("Nenhum local encontrado")])]):s("div",{key:"loader"},[s("Loader")],1)])],1)])},j=[],k=(s("841c"),s("ac1f"),s("4de4"),s("caad"),s("2532"),s("b0c0"),s("d3b7"),{data:function(){return{itens:[],item:!1,search:""}},computed:{result:function(){var t=this;return""==this.search||" "==this.search?this.itens:this.itens.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())}))}},methods:{fetchLocations:function(){var t=this;fetch("https://douglasrangel.com/api/locations.json").then((function(t){return t.json()})).then((function(e){t.itens=e}))},fetchLocation:function(t){var e=this;fetch("https://douglasrangel.com/api//".concat(t,"/location.json")).then((function(t){return t.json()})).then((function(t){e.item=t}))},openModal:function(t){this.fetchLocation(t),window.scrollTo({top:0,behavior:"smooth"})},closeModal:function(t){"modal_vx"===t.target.className&&(this.item=!1)}},created:function(){this.fetchLocations()}}),P=k,O=Object(u["a"])(P,E,j,!1,null,null,null),L=O.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"list-users"},[s("div",{staticClass:"container"},[s("transition-group",{attrs:{mode:"out-in"}},[t.users&&t.users.length?s("div",{key:"users",staticClass:"row"},[s("h2",{staticClass:"list-users__title col-md-12"},[t._v("Usuários cadastrados")]),t._l(t.users,(function(e){return s("div",{key:e.id,staticClass:"col-md-4"},[s("div",{staticClass:"box-users"},[s("div",{staticClass:"image",style:{background:"url("+e.avatar+") center/cover no-repeat"}}),s("div",{staticClass:"user-content"},[s("h2",[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),s("p",[t._v(t._s(e.email))])])])])}))],2):t.users&&0===t.users.length?s("div",{key:"notfound"},[s("p",{staticClass:"notfound"},[t._v("Nenhum usuário encontrado")])]):s("div",{key:"loader"},[s("Loader")],1)])],1)])},S=[],D=(s("99af"),s("bc3a")),N=s.n(D),A=N.a.create({baseURL:"https://reqres.in/api"}),R={get:function(t){return A.get(t)},post:function(t,e){return A.post(t,e)},put:function(t,e){return A.put(t,e)},login:function(t){return N.a.post("https://reqres.in/api/register",t)}},M={data:function(){return{users:null,UsersPerPage:12,UsersTotal:0}},computed:{url:function(){var t="";for(var e in this.$route.query)t+="&".concat(e,"=").concat(this.$route.query[e]);return"/users?per_page=".concat(this.UsersPerPage).concat(t)}},methods:{getUsers:function(){var t=this;this.users=null,R.get(this.url).then((function(e){t.users=e.data.data}))}},watch:{url:function(){this.getUsers()}},created:function(){this.getUsers()}},H=M,q=Object(u["a"])(H,T,S,!1,null,null,null),I=q.exports,G={name:"Home",components:{LocationsList:L,UsersList:I}},J=G,F=Object(u["a"])(J,$,x,!1,null,null,null),z=F.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-login"},[s("div",{staticClass:"container"},[s("form",{staticClass:"form-style"},[s("h1",{staticClass:"page-login__title"},[t._v("Login")]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Senha")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})]),s("div",{staticClass:"aligh-div-between"},[s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.loginApi(e)}}},[t._v("Logar")])]),s("router-link",{staticClass:"btn-link",attrs:{to:"/register"}},[t._v(" Crie sua conta ")])],1),s("Error",{attrs:{error:t.error}})],1)])])},W=[],X={data:function(){return{login:{email:"",password:"",id:""},error:[]}},methods:{loginApi:function(){var t=this;this.error=[],this.$store.dispatch("loginUser",this.login).then((function(e){window.localStorage.token=e.data.token,t.id=e.data.id,t.$store.dispatch("getUser",t.id),t.$router.push("/user")})).catch((function(e){t.error.push(e.response.data.error)}))}}},K=X,Q=Object(u["a"])(K,B,W,!1,null,null,null),V=Q.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-login"},[s("div",{staticClass:"container"},[s("form",{staticClass:"form-style"},[s("h1",{staticClass:"page-login__title"},[t._v("Crie sua conta")]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"password"}},[t._v("Senha")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"aligh-div-between"},[s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.createUser(e)}}},[t._v("Criar")])]),s("router-link",{staticClass:"btn-link",attrs:{to:"/login"}},[t._v(" Login ")])],1),s("Error",{attrs:{error:t.error}})],1)])])},Z=[],tt=s("1da1"),et=s("5530"),st=(s("96cf"),s("ade3"));function at(t){for(var e={},s=function(s){var a=[t.fields[s]];e[a]={get:function(){return this.$store.state[t.base][a]},set:function(e){this.$store.commit(t.mutation,Object(st["a"])({},a,e))}}},a=0;a<t.fields.length;a++)s(a);return e}var rt={data:function(){return{error:[]}},computed:Object(et["a"])({},at({fields:["email","password"],base:"user",mutation:"UPDATE_USER"})),methods:{createUser:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.error=[],e.next=4,t.$store.dispatch("createUser",t.$store.state.user);case 4:return e.next=6,t.$store.dispatch("getUser",t.$store.state.user.id);case 6:t.$router.push("/user"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),t.error.push(e.t0.response.data.error);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},nt=rt,ot=Object(u["a"])(nt,Y,Z,!1,null,null,null),it=ot.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"container"},[s("transition",{attrs:{mode:"out-in"}},[s("router-view")],1)],1)])},ct=[],ut={name:"User"},mt=ut,dt=Object(u["a"])(mt,lt,ct,!1,null,null,null),pt=dt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-profile"},[s("img",{attrs:{src:t.$store.state.user.avatar,alt:t.$store.state.user.first_name}}),s("h1",[t._v(t._s(t.$store.state.user.first_name)+" "+t._s(t.$store.state.user.last_name))]),s("p",[t._v(t._s(t.$store.state.user.email))]),t.$store.state.user.job?s("p",[s("strong",[t._v("Job: ")]),t._v(t._s(t.$store.state.user.job))]):t._e(),s("router-link",{staticClass:"btn",attrs:{to:{name:"Alter"}}},[t._v(" Editar perfil ")]),s("button",{staticClass:"btn",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Deslogar")])],1)},vt=[],ht={name:"UserProfile",methods:{logout:function(){this.$store.dispatch("logoutUser"),this.$router.push("/login")}}},_t=ht,gt=Object(u["a"])(_t,ft,vt,!1,null,null,null),bt=gt.exports,Ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-login"},[s("div",{staticClass:"container"},[s("form",{staticClass:"form-edit"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"email"}},[t._v("E-mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"email",name:"email",id:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Nome Completo")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",id:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"first_name"}},[t._v("Nome")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],attrs:{type:"text",name:"first_name",id:"first_name"},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"last_name"}},[t._v("Sobrenome")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.last_name,expression:"last_name"}],attrs:{type:"text",name:"last_name",id:"last_name"},domProps:{value:t.last_name},on:{input:function(e){e.target.composing||(t.last_name=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"job"}},[t._v("Job")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.job,expression:"job"}],attrs:{type:"text",name:"job",id:"job"},domProps:{value:t.job},on:{input:function(e){e.target.composing||(t.job=e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.updateUser(e)}}},[t._v("Atualizar")])])])])])},wt=[],yt={computed:Object(et["a"])({},at({fields:["email","name","first_name","last_name","job"],base:"user",mutation:"UPDATE_USER"})),methods:{updateUser:function(){var t=this;R.put("/users/".concat(this.$store.state.user.id),this.$store.state.user).then((function(){t.$store.dispatch("getUserUpdate",t.$store.state.user.id),t.$router.push("/user")})).catch((function(t){console.log(t)}))}}},Ut=yt,$t=Object(u["a"])(Ut,Ct,wt,!1,null,null,null),xt=$t.exports;a["a"].use(U["a"]);var Et=[{path:"/",name:"Home",component:z},{path:"/login",name:"Login",component:V},{path:"/register",name:"Register",component:it},{path:"/user",component:pt,meta:{login:!0},children:[{path:"",name:"UserProfile",component:bt},{path:"alter",name:"Alter",component:xt}]}],jt=new U["a"]({mode:"history",base:"/",routes:Et});jt.beforeEach((function(t,e,s){t.matched.some((function(t){return t.meta.login}))?window.localStorage.token?s():s("/login"):s()}));var kt=jt,Pt=s("2f62");a["a"].use(Pt["a"]);var Ot=new Pt["a"].Store({strict:!0,state:{login:!1,user:{id:"",name:"",email:"",password:"",first_name:""}},mutations:{UPDATE_LOGIN:function(t,e){t.login=e},UPDATE_USER:function(t,e){t.user=Object.assign(t.user,e)}},actions:{getUser:function(t,e){return R.get("/users/".concat(e)).then((function(e){t.commit("UPDATE_USER",e.data.data),t.commit("UPDATE_LOGIN",!0)}))},createUser:function(t,e){return R.post("/register",e).then((function(e){window.localStorage.token=e.data.token,t.commit("UPDATE_USER",{id:e.data.id})}))},getUserUpdate:function(t,e){return R.get("/users/".concat(e)).then((function(e){t.commit("UPDATE_USER",e.data.data),t.commit("UPDATE_LOGIN",!0)}))},logoutUser:function(t){t.commit("UPDATE_USER",{id:"",name:"",email:"",password:"",first_name:""}),window.localStorage.removeItem("token"),t.commit("UPDATE_LOGIN",!1)},loginUser:function(t,e){return R.login({email:e.email,password:e.password})}},modules:{}}),Lt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("span"),s("span"),s("span"),s("span")])}],St={name:"Loader"},Dt=St,Nt=Object(u["a"])(Dt,Lt,Tt,!1,null,null,null),At=Nt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",[t.error.length>0?s("ul",{staticClass:"error"},t._l(t.error,(function(e,a){return s("li",{key:a,domProps:{innerHTML:t._s(e)}})})),0):t._e()])},Mt=[],Ht={name:"Error",props:{error:Array}},qt=Ht,It=Object(u["a"])(qt,Rt,Mt,!1,null,null,null),Gt=It.exports;s("47bc");a["a"].config.productionTip=!1,a["a"].component("Loader",At),a["a"].component("Error",Gt),new a["a"]({router:kt,store:Ot,render:function(t){return t(y)}}).$mount("#app")},e347:function(t,e,s){t.exports=s.p+"img/logo.1576ed47.svg"}});
//# sourceMappingURL=app.324133fa.js.map